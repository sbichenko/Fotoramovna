(function(){"use strict";function r(t,n){this.src=t;this.Fotoramovna=n;this.row=false;this.$cell=e('<div class="'+n.CSSClassNames.cell+'">');this.$sizewrapper=e('<div class="'+n.CSSClassNames.sizewrapper+'">').appendTo(this.$cell);this.$img=e('<img class="'+n.CSSClassNames.img+'" src="'+this.src+'">').appendTo(this.$sizewrapper)}function i(){this.arrThumbs=[];this.$cells=e([])}function s(n,r,i){var s=this,o=e.extend({},t,r);if(!n.data("fotorama")||!n.data("fotorama").options){throw"Fotoramovna error: can't access $fotorama.data(). Passed object should be a ready Fotorama (version 4.4.0 or later)"}s.$fotorama=n;s.APIFotorama=n.data("fotorama");s.manager=i;s.doIgnoreFotorama=false;s.idTimerResize=false;s.horizontalAlign=o.horizontalAlign;s.nameClass=o.classname;s.countColumns=parseInt(o.columns,10);s.doHideOnInit=o.hideFotoramaOnInit;s.doDisableScroll=o.disableScroll;s.offsetScrollVertical=parseInt(o.verticalOffset,10);s.verticalAlign=o.verticalAlign;s.durAnimation=o.duration?parseInt(o.duration,10):s.$fotorama.data("fotorama").options.transitionduration;s.width=o.getWidthFromFotorama?s.APIFotorama.options.width:false;s.doFitHeight=o.horizontalAlign=="center"?o.fitHeight:false;u(s.horizontalAlign=="center"||s.horizontalAlign=="justify");u(s.nameClass!=="","Class name is not empty");u(s.countColumns>0,"Amount of columns is more than zero");u(s.durAnimation>=0,"Duration is more than or equal to zero");s.CSSClassNames={wrapperFotorama:s.nameClass+"__wrapper-fotorama",grid:s.nameClass+"__grid",row:s.nameClass+"__row",gridBreak:s.nameClass+"__break",cell:s.nameClass+"__cell",cellPlaceholder:s.nameClass+"__placeholder",sizewrapper:s.nameClass+"__sizewrapper",img:s.nameClass+"__img",frame:s.nameClass+"__frame"};s.arrThumbs=[];s.$cells=e([]);s.loadThumbs();s.$fotoramovna=false;s.$wrapperFotorama=false;s.$grid=false;s.$placeholders=e([]);s.$frame=false;s.updateDOM();s.addStyles();s.arrRows=[];s.detectRows();s.setMinWidth();s.listenToThumbs();s.listenToFotorama();s.listenToResize();s.initAPI();if(s.doHideOnInit){s.$wrapperFotorama.hide()}else{s.selectThumb("init")}}function o(e,t){if(e[0].complete){t()}else{e.one("load",function(){t()})}}function u(e,t){if(!e){throw'Fotoramovna exception: assertion "'+t+'" failed'}}var e=jQuery,t={horizontalAlign:"justify",columns:5,hideFotoramaOnInit:true,verticalAlign:"middle",duration:200,classname:"fotoramovna",verticalOffset:50,getWidthFromFotorama:false,disableScroll:false,fitHeight:true};e.fn.fotoramovna=function(t){return n.addInstance(e(this),t)};e.fn.unfotoramovna=function(){n.removeInstance(e(this))};var n={arrInstances:[],addInstance:function(t,n){var r=this,i=[];e.each(t,function(){var o;if(r.findInstance(t)){return true}o=new s(e(this),n,r);i.push(o)});r.arrInstances=r.arrInstances.concat(i);if(i.length===1){return i[0]}return i},removeInstance:function(e){var t=this,n=t.findInstance(e),r;if(n){r=n.Fotoramovna;r.remove();r={};t.arrInstances.splice(n.index,1)}},findInstance:function(t){var n=this,r=false;e.each(t,function(){var t=this;e.each(n.arrInstances,function(e){if(t===this.$fotorama[0]){r={Fotoramovna:this,index:e};return false}})});return r}};r.prototype.setRow=function(e){this.row=e};i.prototype.addThumb=function(e){this.arrThumbs.push(e);this.$cells=this.$cells.add(e.$cell);e.setRow(this)};s.prototype.loadThumbs=function(){var t=this,n=e([]),i=[],s=[],o;e.each(t.APIFotorama.data,function(){o=new r(this.thumb,t);i.push(o);s.push(o.$cell[0])});n=e(s);if(e(".fotorama__html",t.$fotorama).length>0){throw"Fotoramovna error: fotorama contains HTML slides"}t.arrThumbs=i;t.$cells=n};s.prototype.updateDOM=function(){var t=this,n=t.$fotorama.prev(".fotorama--hidden"),r='<div class="'+t.CSSClassNames.gridBreak+'">',i,s;t.$fotorama.wrap('<div class="'+t.nameClass+'">');t.$fotoramovna=t.$fotorama.parent();t.$grid=e('<div class="'+t.CSSClassNames.grid+'">').appendTo(t.$fotoramovna);e.each(t.arrThumbs,function(e){t.$grid.append(this.$cell)});if(t.horizontalAlign=="justify"){i=t.countColumns-t.arrThumbs.length%t.countColumns;for(s=0;s<i;s++){t.$placeholders=t.$placeholders.add(e('<div class="'+t.CSSClassNames.cell+" "+t.CSSClassNames.cellPlaceholder+'">').appendTo(t.$grid))}t.$grid.find("."+t.CSSClassNames.cell+":nth-child("+t.countColumns+"n)").after(e(r));t.$cells.add(t.$placeholders).after(" ")}t.$frame=e('<div class="'+t.CSSClassNames.frame+'">').appendTo(t.$grid);t.$frame.hide();t.$fotorama.wrap(e('<div class="'+t.CSSClassNames.wrapperFotorama+'">'));t.$wrapperFotorama=t.$fotorama.parent();n.prependTo(t.$wrapperFotorama)};s.prototype.addStyles=function(){var t=this,n=t.APIFotorama.options,r=typeof n.thumbwidth!="undefined"?n.thumbwidth:n.thumbWidth,i=typeof n.thumbheight!="undefined"?n.thumbheight:n.thumbHeight,s="",u="";switch(t.verticalAlign){case"top":u=0;break;case"middle":u=0;s=0;break;case"bottom":s=0;break}if(t.width!==false){t.$fotoramovna.css("width",t.width+"px")}t.$fotoramovna.css({position:"relative"});t.$wrapperFotorama.css({position:"absolute",left:0,right:0,width:e(".fotorama__wrap",t.$fotorama).width()+"px",margin:"0 auto",zIndex:100});e(".fotorama__nav-wrap",t.$fotorama).css({display:"none"});e(t.$grid).css({position:"relative",textAlign:t.horizontalAlign,fontSize:"0.1px",lineHeight:"1"});t.$cells.add(t.$placeholders).css({display:"inline-block",textAlign:"center"});e("."+t.CSSClassNames.cellPlaceholder,t.$fotoramovna).css({margin:"0px",padding:"0px",width:r});e("."+t.CSSClassNames.sizewrapper,t.$fotoramovna).css({position:"relative",display:"block",width:r,height:i,marginTop:0});e("."+t.CSSClassNames.img,t.$fotoramovna).css({cursor:"pointer",position:"absolute",margin:"auto",maxWidth:"100%",maxHeight:"100%",left:0,right:0,bottom:s,top:u});e("."+t.CSSClassNames.gridBreak,t.$fotoramovna).css({display:"inline-block",width:"100%"});t.$frame.css({position:"absolute",border:"2px rgb(0, 175, 234) solid",zIndex:50});if(t.doFitHeight){e("."+t.CSSClassNames.img,t.$fotoramovna).css({maxWidth:"",height:"100%"});e("."+t.CSSClassNames.cell,t.$fotoramovna).css({marginRight:t.APIFotorama.options.thumbmargin+"px",overflow:"hidden"});e.each(this.arrThumbs,function(){var e=this;o(e.$img,function(){e.$sizewrapper.css("width",e.$img.outerWidth()-1+"px");t.detectRows();t.refresh()})})}t.APIFotorama.resize()};s.prototype.detectRows=function(){var t=this,n=Number.NEGATIVE_INFINITY;t.$cells.css("marginTop",0);t.arrRows=[];e.each(t.arrThumbs,function(){var e=this.$cell,r=e.offset().top,s;if(r>n){t.arrRows.push(new i)}s=t.arrRows[t.arrRows.length-1];s.addThumb(this);n=r})};s.prototype.getAPIObject=function(){var e=this;return{refresh:function(){e.refresh()}}};s.prototype.initAPI=function(){var e=this,t=this.getAPIObject();e.$fotorama.data("fotoramovna",t)};s.prototype.listenToThumbs=function(){var t=this;e("."+t.CSSClassNames.img,this.$fotoramovna).on("click",function(){var n=e("."+t.CSSClassNames.img,t.$fotoramovna).index(this);t.doIgnoreFotorama=true;t.APIFotorama.show(n);t.selectThumb("thumb");t.doIgnoreFotorama=false})};s.prototype.listenToResize=function(){var t=this,n=function(){t.refresh()};e(window).on("resize",function(){window.clearTimeout(t.idTimerResize);t.idTimerResize=window.setTimeout(n,100)})};s.prototype.listenToFotorama=function(){var e=this;this.$fotorama.on("fotorama:show",function(){if(!e.doIgnoreFotorama){e.selectThumb("fotorama")}}).on("fotorama:fullscreenexit",function(){if(!e.doIgnoreFotorama){e.selectThumb("refresh")}})};s.prototype.remove=function(){var t=this;t.$wrapperFotorama.contents().unwrap();t.$fotoramovna.children(":not(.fotorama)").remove();t.$fotoramovna.contents().unwrap();e(".fotorama__nav-wrap",t.$fotorama).css("display","block");t.$fotorama.off("fotorama:show",t.onClick)};s.prototype.refresh=function(){if(this.thumbCur){this.refreshFotoramaWidth()}this.detectRows();this.setMinWidth();if(this.thumbCur){this.selectThumb("refresh")}};s.prototype.refreshFotoramaWidth=function(){this.$wrapperFotorama.css("width","auto");this.APIFotorama.resize();this.$wrapperFotorama.css("width",e(".fotorama__stage",this.$fotoramovna).width()+"px")};s.prototype.setMinWidth=function(){var t=this,n=Number.NEGATIVE_INFINITY;if(t.horizontalAlign=="justify"){e.each(t.arrRows,function(){var r=0;this.$cells.each(function(){e(this).children(":not(."+t.CSSClassNames.gridBreak+")").each(function(){r+=e(this).outerWidth(true)});if(r>n){n=r}})});n=n+1;t.$fotoramovna.css("minWidth",n+"px")}};s.prototype.getDuration=function(e){return e!="refresh"&&e!="init"?this.durAnimation:0};s.prototype.selectThumb=function(e){var t=this;if(!this.thumbCur){t.$wrapperFotorama.show();this.refreshFotoramaWidth()}(function(){var n=t.APIFotorama.activeIndex,r=t.arrThumbs[n],i=r.row,s=t.thumbCur?t.thumbCur.row:false,o=i!==s,u=t.$wrapperFotorama.outerHeight(),a=s&&t.arrRows.indexOf(i)>t.arrRows.indexOf(s)?"down":"up",f=a=="up"||s===false?r.$cell.position().top:r.$cell.position().top-u;if(!e){throw"Fotoramovna.selectThumb() error: Unknown source"}if(o||e=="refresh"){t.moveFotorama(f,u,i,e);t.scroll(f,e)}r.$cell.promise().done(function(){t.moveFrame(r,o)});if(!t.thumbCur&&t.doHideOnInit){t.$wrapperFotorama.hide();t.$wrapperFotorama.slideToggle(t.durAnimation,t.APIFotorama.resize)}t.thumbCur=r})()};s.prototype.moveFotorama=function(e,t,n,r){var i=this,s=i.getDuration(r);i.$frame.hide();i.$cells.animate({marginTop:0},{duration:s,queue:false});n.$cells.animate({marginTop:t},{duration:s,queue:false});i.$wrapperFotorama.animate({top:e+"px"},{duration:s,queue:false,complete:function(){i.$frame.show()}})};s.prototype.scroll=function(t,n){var r=this,i=r.getDuration(n),s=false,o=r.$fotoramovna.offset().top,u=t+o,a=u-r.$wrapperFotorama.offset().top,f=e(".fotorama__stage",r.$fotorama),l=u+f.offset().top-r.$wrapperFotorama.offset().top;if(r.doDisableScroll){return false}switch(n){case"fotorama":s="+="+a;break;case"thumb":s=l-(e(window).height()-f.outerHeight())/2+r.offsetScrollVertical;break}if(s){e("body, html").animate({scrollTop:s},{duration:i,queue:false})}};s.prototype.moveFrame=function(e,t){function r(){var r=e.$img.outerWidth()-parseFloat(n.$frame.css("borderBottomWidth"))-parseFloat(n.$frame.css("borderTopWidth")),i=e.$img.outerHeight()-parseFloat(n.$frame.css("borderRightWidth"))-parseFloat(n.$frame.css("borderLeftWidth")),s=e.$img.offset().top-n.$grid.offset().top,o=e.$img.offset().left-n.$grid.offset().left,u=!t?n.durAnimation:0;n.$frame.animate({width:r+"px",height:i+"px",top:s+"px",left:o+"px"},u)}var n=this;o(e.$img,function(){r()})};if(typeof Array.prototype.indexOf==="undefined"){Array.prototype.indexOf=function(e,t){if(!this){throw new TypeError}t=+t;if(isNaN(t)){t=0}var n=this.length;if(n==0||t>=n){return-1}if(t<0){t+=n}while(t<n){if(this[t++]===e){return t}}return-1}}})()